Дано:

Написать скрипт для CRON, который раз в час будет формировать письмо и отправлять на заданную почту.

Необходимая информация в письме:

    1) Список IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
    2) Список запрашиваемых URL (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
    3) Ошибки веб-сервера/приложения c момента последнего запуска;
    4) Список всех кодов HTTP ответа с указанием их кол-ва с момента последнего запуска скрипта.
    5) Скрипт должен предотвращать одновременный запуск нескольких копий, до его завершения.

    В письме должен быть  прописан обрабатываемый временной диапазон.

    В чат ДЗ отправьте ссылку на ваш git-репозиторий.

Решение:

1) Прикладываю: Vagrantfile, script.sh, myscript.sh, access.log_tmp (пример лог-файла). Слелует все эти файлы расположить в одном каталоге.
2) Автоматизация с помощью Vagrant-файла. Выполняемые им задачи:
    а) Развёртывание тестового стенда с установкой и настройкой необходимого ПО.
    б) Добавление в /etc/crontab задачи
    в) Копирование нашего скрипта в каталог /opt (также сделаем его исполняемым).
    г) Если нужен лог для тестирования, следует раскомментировать последнюю строку в script.sh
3) Задачи (3) и (4) я объединил в одну (выводит одновременно).
4) Предотвращение одновременного запуска скрипта реализовано путём проверки временного файла mail.body. Если он присутствует, скрипт выполняется. 
